"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{804:(e,r,t)=>{t.d(r,{default:()=>g});var n=t(5155),a=t(7970),i=t(8701),s=t(6519),o=t(4249),l=t(8022),d=t(4071),c=t(888),u=t(1875),x=t(4707),h=t(8500),p=t.n(h),f=t(7719),m=t(3321);function g({onMenuToggle:e,menuButtonRef:r,loadingStatus:t}){let h=(0,a.A)(),f=(0,m.usePathname)();return(0,n.jsx)(i.A,{position:"fixed",elevation:0,sx:{zIndex:e=>e.zIndex.drawer+1,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderBottom:"1px solid",borderColor:"divider"},children:(0,n.jsxs)(s.A,{children:[(0,n.jsx)(o.A,{ref:r,edge:"start",color:"primary","aria-label":"toggle menu",onClick:e,sx:{mr:2},children:(0,n.jsx)(u.A,{})}),(0,n.jsx)(p(),{href:"/",style:{textDecoration:"none",display:"flex",alignItems:"center"},children:(0,n.jsxs)(l.A,{variant:"h6",sx:{fontWeight:800,background:"linear-gradient(135deg, #7C3AED 0%, #8B5CF6 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",cursor:"pointer"},children:["Kaushal Kanakamedala",(0,n.jsx)(d.default,{component:"span",sx:{color:h.palette.primary.main},children:"."})]})}),(0,n.jsx)(d.default,{sx:{flexGrow:1}}),(0,n.jsxs)(d.default,{sx:{display:"flex",gap:2,alignItems:"center"},children:["/ama"===f&&(0,n.jsx)(b,{}),(0,n.jsx)(c.A,{title:"Home",children:(0,n.jsx)(o.A,{component:p(),href:"/",color:"primary",children:(0,n.jsx)(x.A,{})})})]})]})})}function y({name:e,state:r}){return(0,n.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.ready?(0,n.jsx)(d.default,{sx:{width:14,height:14,borderRadius:"50%",bgcolor:"success.main",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(l.A,{sx:{color:"white",fontSize:10,fontWeight:700},children:"✓"})}):r.loading?(0,n.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:.3},children:[(0,n.jsx)(d.default,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"primary.main",animation:"pulse 1.5s infinite"}}),(0,n.jsxs)(l.A,{variant:"caption",sx:{fontSize:10,color:"text.secondary",minWidth:22},children:[r.progress,"%"]})]}):(0,n.jsx)(d.default,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"grey.400"}}),(0,n.jsx)(l.A,{variant:"caption",fontWeight:r.ready?600:400,color:r.ready?"success.main":"text.secondary",sx:{fontSize:11},children:e})]})}function b(){let{llm:e,stt:r,tts:t}=(0,f.Q)();return(0,n.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:1.5,bgcolor:"rgba(255,255,255,0.7)",px:1.5,py:.5,borderRadius:4,border:"1px solid",borderColor:"divider"},children:[(0,n.jsx)(y,{name:"STT",state:r}),(0,n.jsx)(y,{name:"LLM",state:e}),(0,n.jsx)(y,{name:"TTS",state:t}),(0,n.jsx)("style",{children:"@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }"})]})}},2849:(e,r,t)=>{t.d(r,{default:()=>A});var n=t(5155),a=t(7970),i=t(2811),s=t(4071),o=t(1161),l=t(6503),d=t(4525),c=t(2402),u=t(4603),x=t(5766),h=t(8022),p=t(2444),f=t(6548),m=t(7201),g=t(8945),y=t(4707),b=t(8500),j=t.n(b),w=t(3321);let v=[{text:"Home",icon:(0,n.jsx)(y.A,{}),href:"/",section:null},{divider:!0},{text:"Experience",icon:(0,n.jsx)(m.A,{}),href:"/#experience",section:"experience"},{text:"Projects",icon:(0,n.jsx)(g.A,{}),href:"/#projects",section:"projects"},{text:"Education",icon:(0,n.jsx)(f.A,{}),href:"/#education",section:"education"}];function A({open:e,onClose:r}){let t=(0,a.A)(),f=(0,i.A)(t.breakpoints.down("md")),m=(0,w.usePathname)(),g=(0,n.jsxs)(s.default,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.default,{sx:{p:2,mt:8}}),(0,n.jsx)(o.A,{sx:{flexGrow:1,px:1},children:v.map((t,a)=>{var i;if("divider"in t&&t.divider)return(0,n.jsx)(l.A,{sx:{my:1}},a);let s="/"===(i=t.href)?"/"===m:m.startsWith(i.split("#")[0]);return(0,n.jsx)(d.Ay,{disablePadding:!0,sx:{mb:.5},children:(0,n.jsxs)(c.A,{component:j(),href:t.href,"aria-label":t.text,onClick:e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.blur(),r()},sx:{borderRadius:2,minHeight:48,justifyContent:e?"flex-start":"center",px:2.5,backgroundColor:s?"primary.main":"transparent",color:s?"white":"text.primary","&:hover":{backgroundColor:s?"primary.dark":"rgba(124, 58, 237, 0.08)"},transition:"all 0.2s ease-in-out"},children:[(0,n.jsx)(u.A,{sx:{minWidth:0,mr:2*!!e,justifyContent:"center",color:s?"white":"primary.main"},children:t.icon}),e&&(0,n.jsx)(x.A,{primary:t.text,primaryTypographyProps:{fontWeight:s?600:500,fontSize:"0.9rem"}})]})},t.text)})}),e&&(0,n.jsx)(s.default,{sx:{p:2,borderTop:"1px solid",borderColor:"divider"},children:(0,n.jsx)(h.A,{variant:"caption",color:"text.secondary",children:"\xa9 2025 Kaushal"})})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Ay,{variant:"temporary",open:f&&e,onClose:r,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:260,boxSizing:"border-box"}},children:g}),(0,n.jsx)(p.Ay,{variant:"permanent",open:e,sx:{display:{xs:"none",md:"block"},width:e?260:72,flexShrink:0,zIndex:t.zIndex.drawer,"& .MuiDrawer-paper":{width:e?260:72,boxSizing:"border-box",overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),borderRight:"none",boxShadow:"2px 0 8px rgba(0, 0, 0, 0.04)"}},children:g})]})}},6430:(e,r,t)=>{t.d(r,{default:()=>u});var n=t(5155),a=t(4071),i=t(5987),s=t(8022),o=t(2728),l=t(423),d=t(3850),c=t(8404);function u(){return(0,n.jsx)(a.default,{component:"footer",sx:{py:4,px:3,mt:"auto",borderTop:"1px solid",borderColor:"divider",backgroundColor:"rgba(250, 250, 250, 0.8)"},children:(0,n.jsxs)(i.A,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,n.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"Built with Next.js & Material UI • Powered by WebGPU AI"}),(0,n.jsxs)(i.A,{direction:"row",spacing:2,children:[(0,n.jsx)(o.A,{href:"https://github.com/kaush4l",target:"_blank",rel:"noopener noreferrer",color:"text.secondary",sx:{"&:hover":{color:"primary.main"}},children:(0,n.jsx)(l.A,{fontSize:"small"})}),(0,n.jsx)(o.A,{href:"https://www.linkedin.com/in/kaush4l/",target:"_blank",rel:"noopener noreferrer",color:"text.secondary",sx:{"&:hover":{color:"primary.main"}},children:(0,n.jsx)(d.A,{fontSize:"small"})}),(0,n.jsx)(o.A,{href:"mailto:kaush4lk@gmail.com",color:"text.secondary",sx:{"&:hover":{color:"primary.main"}},children:(0,n.jsx)(c.A,{fontSize:"small"})})]}),(0,n.jsxs)(s.A,{variant:"caption",color:"text.secondary",children:["\xa9 ",new Date().getFullYear()," Kaushal. All rights reserved."]})]})})}},7104:(e,r,t)=>{t.d(r,{N:()=>n});function n(e){if(!e)return"";let r=e;return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace(/```[a-zA-Z0-9_-]*\n([\s\S]*?)```/g,"$1")).replace(/`([^`]+)`/g,"$1")).replace(/^\s{0,3}#{1,6}\s+/gm,"")).replace(/^\s*>\s?/gm,"")).replace(/^\s*[-*+]\s+/gm,"")).replace(/^\s*\d+\.\s+/gm,"")).replace(/\*\*([^*]+)\*\*/g,"$1")).replace(/__([^_]+)__/g,"$1")).replace(/\*([^*]+)\*/g,"$1")).replace(/_([^_]+)_/g,"$1")).replace(/\[([^\]]+)\]\(([^)]+)\)/g,"$1")).replace(/^\s*([-*_]){3,}\s*$/gm,"")).replace(/\s+/g," ").trim()}},7308:(e,r,t)=>{t.d(r,{S:()=>n});class n{constructor(e){this.buffer="",this.onSentence=e}push(e){this.add(e)}reset(){this.buffer=""}add(e){this.buffer+=e,this.process()}process(){let e;for(;e=this.buffer.match(/([.!?։។।]+)(\s+|$)/);){let r=e.index+e[0].length,t=this.buffer.slice(0,r).trim();t&&this.onSentence(t),this.buffer=this.buffer.slice(r)}}flush(){this.buffer.trim()&&(this.onSentence(this.buffer.trim()),this.buffer="")}}},7719:(e,r,t)=>{t.d(r,{Q:()=>o,l:()=>l});var n=t(5155),a=t(2115),i=t(8781);let s=(0,a.createContext)(null);function o(){let e=(0,a.useContext)(s);if(!e)throw Error("useModelContext must be used within ModelProvider");return e}function l({children:e,initialSystemPrompt:r=""}){let[o,l]=(0,a.useState)({ready:!1,loading:!1,progress:0}),[d,c]=(0,a.useState)({ready:!1,loading:!1,progress:0}),[u,x]=(0,a.useState)({ready:!1,loading:!1,progress:0}),[h,p]=(0,a.useState)(r),[f,m]=(0,a.useState)({stt:null,tts:null,llm:null}),g=(0,a.useRef)(null),y=(0,a.useCallback)(()=>{try{f.stt?.terminate()}catch{}try{f.tts?.terminate()}catch{}try{f.llm?.terminate()}catch{}m({stt:null,tts:null,llm:null})},[f.llm,f.stt,f.tts]),b=async(e,r,t,n)=>new Promise((a,i)=>{n({ready:!1,loading:!0,progress:0});let s=r(),o=()=>{s.removeEventListener("message",d),s.removeEventListener("error",c),s.removeEventListener("messageerror",u)},l=e=>{o();try{s.terminate()}catch{}n({ready:!1,loading:!1,progress:0,error:e}),i(Error(e))},d=r=>{let{type:t,data:i}=r.data;if("progress"===t){let e=i?.progress??0,r=Math.min(99,Math.round(e>1?e:100*e));n(e=>({...e,progress:r,loading:!0}))}else"ready"===t?(n({ready:!0,loading:!1,progress:100}),o(),a(s)):"error"===t&&l("string"==typeof i?i:i?.message||`Failed to load ${e} model`)},c=r=>{let t=[r?.message||`Worker error while loading ${e}`];r?.filename&&t.push(`file: ${r.filename}`),"number"==typeof r?.lineno&&t.push(`line: ${r.lineno}`),"number"==typeof r?.colno&&t.push(`col: ${r.colno}`),l(t.join(" | "))},u=()=>{l(`Worker message error while loading ${e}`)};s.addEventListener("message",d),s.addEventListener("error",c),s.addEventListener("messageerror",u),s.postMessage({type:"load",data:{model:t}})}),j=(0,a.useCallback)(async()=>{if(g.current)return g.current;if("undefined"!=typeof navigator&&!("gpu"in navigator)){let e="WebGPU is required to run the on-device models (supported in latest Chrome/Edge).";throw l(r=>r.error?r:{ready:!1,loading:!1,progress:0,error:e}),c(r=>r.error?r:{ready:!1,loading:!1,progress:0,error:e}),x(r=>r.error?r:{ready:!1,loading:!1,progress:0,error:e}),Error(e)}g.current=(async()=>{if(console.log("Auto-loading all models in parallel..."),f.stt&&f.tts&&f.llm&&o.ready&&d.ready&&u.ready)return;(f.stt||f.tts||f.llm)&&y();let[e,r,n]=await Promise.all([b("stt",()=>new Worker(t.tu(new URL(t.p+t.u(955),t.b)),{type:void 0}),i.L.stt.default,l),b("tts",()=>new Worker(t.tu(new URL(t.p+t.u(655),t.b)),{type:void 0}),i.L.tts.default,c),b("llm",()=>new Worker(t.tu(new URL(t.p+t.u(498),t.b)),{type:void 0}),i.L.llm.default,x)]);m({stt:e,tts:r,llm:n})})();try{await g.current}finally{g.current=null}},[u.ready,o.ready,y,d.ready,f.llm,f.stt,f.tts]);return(0,a.useEffect)(()=>{let e=!1,r=()=>{e||j().catch(()=>{})},t=globalThis;if("function"==typeof t.requestIdleCallback){let n=t.requestIdleCallback(r,{timeout:2e3});return()=>{e=!0;try{t.cancelIdleCallback?.(n)}catch{}}}let n=setTimeout(r,500);return()=>{e=!0,clearTimeout(n)}},[j]),(0,n.jsx)(s.Provider,{value:{stt:o,tts:d,llm:u,systemPrompt:h,modelName:i.L.llm.default.split("/").pop()||"Unknown",autoLoadAll:j,sttWorker:f.stt,ttsWorker:f.tts,llmWorker:f.llm},children:e})}},7911:(e,r,t)=>{t.d(r,{default:()=>$});var n=t(5155),a=t(2115),i=t(7970),s=t(4071),o=t(6519),l=t(804),d=t(2849),c=t(6430),u=t(888),x=t(4249),h=t(192),p=t(2163),f=t(4065),m=t(8022),g=t(7721),y=t(5987),b=t(2616),j=t(7846),w=t(372),v=t(1650),A=t(7131),k=t(3736),S=t(8759),C=t(7279),R=t(4466),E=t(7719),T=t(7308),I=t(7104),L=t(642),z=t(9673);function M(e){return`${e}-${Date.now()}-${Math.random().toString(16).slice(2)}`}function W(){(0,i.A)();let[e,r]=(0,a.useState)(!1),{llm:t,stt:o,tts:l,llmWorker:d,sttWorker:c,ttsWorker:W,modelName:$,systemPrompt:D,autoLoadAll:P}=(0,E.Q)(),[_,B]=(0,a.useState)([]),[N,F]=(0,a.useState)(""),[H,U]=(0,a.useState)(!1),[q,G]=(0,a.useState)(""),K=(0,a.useRef)(""),X=(0,a.useRef)(null),O=(0,a.useRef)(null),Q=(0,a.useRef)(!0),[Y,Z]=(0,a.useState)(!1),[J,V]=(0,a.useState)(""),[ee,er]=(0,a.useState)(null),et=(0,a.useRef)(null),en=(0,a.useRef)(null),ea=(0,a.useRef)(null),ei=(0,a.useRef)(null),es=(0,a.useRef)(null),eo=(0,a.useRef)(null),el=(0,a.useRef)([]),ed=(0,a.useRef)(null),ec=(0,a.useRef)(null),eu=(0,a.useRef)(!1),ex=(0,a.useRef)(null),eh=(0,a.useRef)(0),ep=(0,a.useCallback)((e,r)=>{if(!r||16e3===r)return e;let t=r/16e3,n=Math.round(e.length/t),a=new Float32Array(n);for(let r=0;r<n;r++){let n=Math.round(r*t);a[r]=e[Math.min(n,e.length-1)]}return a},[]),[ef,em]=(0,a.useState)(!0),[eg]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!e)return;let r=t.ready&&o.ready&&l.ready,n=t.loading||o.loading||l.loading,a=!!t.error||!!o.error||!!l.error;r||n||a||P().catch(()=>{})},[e,t.ready,o.ready,l.ready,t.loading,o.loading,l.loading,t.error,o.error,l.error,P]),(0,a.useEffect)(()=>{ea.current=new T.S(e=>{if(ef&&l.ready&&W){let r=ec.current;if(!r)return;let t=(0,I.N)(e);t&&W.postMessage({type:"synthesize",data:{text:t,language:"en",speaker:"Lily",requestId:r}})}})},[ef,l.ready,W]),(0,a.useEffect)(()=>{if(!d)return;let r=r=>{let{type:t,data:n}=r.data;if("progress"===t&&n?.status==="stream"){let r=n?.requestId;if(!r||r!==ed.current)return;let t=n.output;K.current+=t,!e||X.current||(X.current=window.setTimeout(()=>{if(X.current=null,G((0,I.N)(K.current)),Q.current){let e=O.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"auto"})}},75)),ef&&ea.current?.add(t)}else if("complete"===t){let e="object"==typeof n?n?.requestId:void 0,r="object"==typeof n?n?.output:n;if(!e||e!==ed.current)return;X.current&&(window.clearTimeout(X.current),X.current=null);let t=("string"==typeof r?r:"")||K.current;K.current="";let a=(0,I.N)(t);B(e=>[...e,{role:"assistant",content:a}]),ef&&ea.current?.flush(),G(""),U(!1),ed.current=null}else if("error"===t){let e="object"==typeof n?n?.requestId:void 0,r="object"==typeof n?n?.message:n;if(!e||e!==ed.current)return;U(!1),B(e=>[...e,{role:"assistant",content:`Error: ${r}`}]),ed.current=null}};return d.addEventListener("message",r),()=>{d.removeEventListener("message",r),X.current&&(window.clearTimeout(X.current),X.current=null)}},[e,d,ef]),(0,a.useEffect)(()=>{if(!c)return;let e=e=>{let{type:r,data:t}=e.data;if("transcription"===r){let e="object"==typeof t?t?.requestId:void 0,r=("object"==typeof t?t?.text:t)?.trim?.()??"";if(e&&ex.current&&e!==ex.current)return;V(r),eh.current=Date.now(),eu.current=!1}"error"===r&&(eu.current=!1)};return c.addEventListener("message",e),()=>c.removeEventListener("message",e)},[c]);let ey=(0,a.useRef)([]),eb=(0,a.useRef)(!1),ej=(0,a.useCallback)(async()=>{if(eb.current||0===ey.current.length)return;eb.current=!0;let e=ey.current.shift();if(e?.audio){ei.current||(ei.current=new(window.AudioContext||window.webkitAudioContext));let r=ei.current;"suspended"===r.state&&await r.resume();let t=r.createBuffer(1,e.audio.length,e.sampleRate||16e3);t.getChannelData(0).set(e.audio);let n=r.createBufferSource();n.buffer=t,n.playbackRate.value=1.2,n.connect(r.destination),n.onended=()=>{eb.current=!1,ej()},n.start()}else eb.current=!1},[]);(0,a.useEffect)(()=>{if(!W)return;let e=e=>{let{type:r,data:t}=e.data;if("complete"===r){let e=t?.requestId;if(e&&ec.current&&e!==ec.current||!e&&ec.current)return;let r=t?.audio??t,n=t?.sampling_rate??16e3;r&&ey.current.push({audio:r,sampleRate:n}),ej()}};return W.addEventListener("message",e),()=>W.removeEventListener("message",e)},[W,ej]);let ew=e=>{let r=N.trim(),n=J.trim(),a=e??[r,n].filter(Boolean).join(" ");if(!a&&!ee||H||!t.ready)return;let i=M("llm");ed.current=i,ec.current=i;let s={role:"user",content:ee?`![image](${ee})
${a}`:a};B(e=>[...e,s]),F(""),V(""),U(!0),G(""),K.current="";let o=[{role:"system",content:D},..._,s];d?.postMessage({type:"generate",data:{messages:o,images:ee?[ee]:[],requestId:i}}),er(null)},ev=async()=>{if(Y)es.current?.stop(),Z(!1);else{if(!o.ready)return;try{let e=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1}});eo.current=e;let r=["audio/webm;codecs=opus","audio/webm","audio/mp4"].find(e=>"undefined"!=typeof MediaRecorder&&MediaRecorder.isTypeSupported?.(e)),t=r?new MediaRecorder(e,{mimeType:r}):new MediaRecorder(e);el.current=[],t.ondataavailable=async e=>{if(e.data?.size&&(el.current.push(e.data),!eu.current)){eu.current=!0;try{let e=new Blob(el.current,{type:"audio/webm"});ei.current||(ei.current=new(window.AudioContext||window.webkitAudioContext));let r=await e.arrayBuffer(),t=await ei.current.decodeAudioData(r),n=t.getChannelData(0),a=ep(n,t.sampleRate),i=M("stt");ex.current=i,c?.postMessage({type:"transcribe",data:{audio:a,requestId:i}})}catch(e){console.error(e),eu.current=!1}}},t.onstop=async()=>{e.getTracks().forEach(e=>e.stop());let r=J.trim();if(!r){V(""),eu.current=!1;return}eg&&!N.trim()?(V(""),ew(r)):(F(e=>{let t=e.trim();return t?`${t} ${r}`:r}),V("")),eu.current=!1},es.current=t,eh.current=Date.now(),t.start(1e3),Z(!0),V("")}catch(e){console.error(e)}}};return(0,a.useEffect)(()=>{if(!Y)return;let e=setInterval(()=>{Date.now()-eh.current>2500&&(es.current?.stop(),Z(!1))},500);return()=>clearInterval(e)},[Y]),(0,a.useEffect)(()=>{if(!e||!Q.current)return;let r=O.current;r&&r.scrollTo({top:r.scrollHeight,behavior:"auto"})},[e,_.length]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.N,{children:!e&&(0,n.jsx)(z.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},style:{position:"fixed",bottom:24,right:24,zIndex:1200},children:(0,n.jsx)(u.A,{title:"Ask Me Anything",placement:"left",children:(0,n.jsxs)(s.default,{sx:{position:"relative"},children:[(0,n.jsx)(x.A,{"data-testid":"chat-open","aria-label":"open chat",onClick:()=>r(!0),sx:{width:64,height:64,bgcolor:"primary.main",color:"white",boxShadow:6,"&:hover":{bgcolor:"primary.dark"}},children:(0,n.jsx)(j.A,{fontSize:"large"})}),(t.loading||o.loading||l.loading||H||t.error||o.error||l.error)&&(0,n.jsx)(h.A,{size:72,sx:{position:"absolute",top:-4,left:-4,color:t.error||o.error||l.error?"error.main":H?"secondary.main":"success.main",opacity:.6,pointerEvents:"none"}})]})})})}),(0,n.jsx)(L.N,{children:e&&(0,n.jsx)(z.P.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},transition:{type:"spring",damping:25,stiffness:300},style:{position:"fixed",bottom:24,right:24,width:"min(90vw, 400px)",height:"min(80vh, 600px)",zIndex:1200,pointerEvents:"none"},children:(0,n.jsxs)(p.A,{sx:{pointerEvents:"auto",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:4,boxShadow:24,border:"1px solid",borderColor:"divider"},children:[(0,n.jsxs)(s.default,{sx:{p:2,bgcolor:"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(f.A,{sx:{bgcolor:"white",color:"primary.main",width:32,height:32},children:"AI"}),(0,n.jsxs)(s.default,{children:[(0,n.jsx)(m.A,{variant:"subtitle2",fontWeight:700,children:"Chat with Kaushal"}),(0,n.jsxs)(m.A,{variant:"caption",sx:{opacity:.8},children:[$," • ",t.error||o.error||l.error?"Error":t.ready?"Online":"Loading..."]})]})]}),(0,n.jsxs)(s.default,{children:[(0,n.jsx)(x.A,{"data-testid":"chat-tts-toggle","aria-label":"toggle tts",size:"small",color:"inherit",onClick:()=>em(!ef),children:ef?(0,n.jsx)(S.A,{fontSize:"small"}):(0,n.jsx)(C.A,{fontSize:"small"})}),(0,n.jsx)(x.A,{"data-testid":"chat-close","aria-label":"close chat",size:"small",color:"inherit",onClick:()=>r(!1),children:(0,n.jsx)(w.A,{fontSize:"small"})})]})]}),(0,n.jsxs)(s.default,{"data-testid":"chat-messages",ref:O,onScroll:()=>{let e=O.current;e&&(Q.current=e.scrollHeight-e.scrollTop-e.clientHeight<80)},sx:{flexGrow:1,p:2,overflowY:"auto",bgcolor:"background.default",display:"flex",flexDirection:"column",gap:2},children:[(!!t.error||!!o.error||!!l.error)&&(0,n.jsxs)(p.A,{elevation:0,sx:{p:1.5,borderRadius:3,bgcolor:"error.light",color:"error.contrastText"},children:[(0,n.jsx)(m.A,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:t.error||o.error||l.error}),(0,n.jsx)(s.default,{sx:{mt:1,display:"flex",gap:1},children:(0,n.jsx)(g.A,{"data-testid":"chat-retry-models",size:"small",variant:"contained",color:"inherit",onClick:()=>void P().catch(()=>{}),children:"Retry loading models"})})]}),(!t.ready||!o.ready||!l.ready)&&!t.error&&!o.error&&!l.error&&(0,n.jsxs)(p.A,{elevation:0,sx:{p:1.5,borderRadius:3,bgcolor:"action.hover"},children:[(0,n.jsx)(m.A,{variant:"body2",children:"Loading on-device models (WebGPU required)…"}),(0,n.jsxs)(m.A,{variant:"caption",color:"text.secondary",children:["STT ",o.loading?`${o.progress}%`:o.ready?"✓":"…"," • LLM ",t.loading?`${t.progress}%`:t.ready?"✓":"…"," • TTS ",l.loading?`${l.progress}%`:l.ready?"✓":"…"]})]}),0===_.length&&(0,n.jsxs)(s.default,{sx:{p:2,textAlign:"center",color:"text.secondary",mt:4},children:[(0,n.jsx)(j.A,{sx:{fontSize:48,opacity:.2,mb:1}}),(0,n.jsx)(m.A,{variant:"body2",children:"Back online! Ask me anything about my projects, experience, or skills."})]}),_.map((e,r)=>(0,n.jsx)(s.default,{sx:{alignSelf:"user"===e.role?"flex-end":"flex-start",maxWidth:"85%"},children:(0,n.jsx)(p.A,{elevation:0,sx:{p:1.5,borderRadius:3,bgcolor:"user"===e.role?"primary.main":"action.hover",color:"user"===e.role?"white":"text.primary",borderTopRightRadius:3*("user"!==e.role),borderTopLeftRadius:3*("assistant"!==e.role)},children:(0,n.jsx)(m.A,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:e.content})})},r)),(q||H)&&(0,n.jsx)(s.default,{sx:{alignSelf:"flex-start",maxWidth:"85%",minWidth:40},children:(0,n.jsx)(p.A,{elevation:0,sx:{p:1.5,borderRadius:3,bgcolor:"action.hover",borderTopLeftRadius:0},children:q?(0,n.jsx)(m.A,{variant:"body2",sx:{whiteSpace:"pre-wrap"},children:q}):(0,n.jsxs)(y.A,{direction:"row",spacing:.5,sx:{p:.5},children:[(0,n.jsx)(s.default,{sx:{width:6,height:6,bgcolor:"text.secondary",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out both 0s"}}),(0,n.jsx)(s.default,{sx:{width:6,height:6,bgcolor:"text.secondary",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out both 0.16s"}}),(0,n.jsx)(s.default,{sx:{width:6,height:6,bgcolor:"text.secondary",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out both 0.32s"}}),(0,n.jsx)("style",{children:"@keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }"})]})})}),(0,n.jsx)("div",{ref:en})]}),(0,n.jsxs)(s.default,{sx:{p:1,borderTop:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:[ee&&(0,n.jsxs)(s.default,{sx:{px:2,pb:1,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(s.default,{component:"img",src:ee,sx:{width:40,height:40,borderRadius:1,objectFit:"cover"}}),(0,n.jsx)(m.A,{variant:"caption",noWrap:!0,sx:{maxWidth:100},children:"Image Selected"}),(0,n.jsx)(x.A,{size:"small",onClick:()=>er(null),children:(0,n.jsx)(w.A,{fontSize:"small"})})]}),(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)("input",{type:"file",accept:"image/*",capture:"environment",ref:et,style:{display:"none"},onChange:e=>{let r=e.target.files?.[0];if(r){let e=new FileReader;e.onload=e=>er(e.target?.result),e.readAsDataURL(r)}}}),(0,n.jsx)(x.A,{size:"small",color:ee?"primary":"default",onClick:()=>et.current?.click(),children:(0,n.jsx)(R.A,{})}),(0,n.jsx)(b.A,{fullWidth:!0,placeholder:t.ready?Y?"Listening...":"Type a message...":"Loading models...",size:"small",variant:"outlined",value:Y?J:N,onChange:e=>Y?null:F(e.target.value),onKeyPress:e=>"Enter"===e.key&&ew(),disabled:!t.ready||H||Y,sx:{"& .MuiOutlinedInput-root":{borderRadius:4,bgcolor:"action.hover"},"& textarea":{height:"24px"}}}),N.trim()||J||ee?(0,n.jsx)(x.A,{color:"primary",onClick:()=>ew(),disabled:H,children:(0,n.jsx)(v.A,{})}):(0,n.jsx)(x.A,{color:Y?"error":"default",onClick:ev,disabled:!o.ready,sx:{bgcolor:Y?"error.light":"transparent","&:hover":{bgcolor:Y?"error.main":"action.hover"}},children:Y?(0,n.jsx)(k.A,{}):(0,n.jsx)(A.A,{})})]})]})]})})})]})}function $({children:e,systemPrompt:r}){let t=(0,i.A)(),[u,x]=(0,a.useState)(!0),h=(0,a.useRef)(null);return(0,a.useEffect)(()=>{window.innerWidth<t.breakpoints.values.md&&x(!1)},[t.breakpoints.values.md]),(0,n.jsx)(E.l,{initialSystemPrompt:r,children:(0,n.jsxs)(s.default,{sx:{display:"flex",minHeight:"100vh"},children:[(0,n.jsx)(l.default,{onMenuToggle:()=>{x(e=>!e)},menuButtonRef:h}),(0,n.jsx)(d.default,{open:u,onClose:()=>{x(!1),window.setTimeout(()=>{h.current?.focus()},0)}}),(0,n.jsxs)(s.default,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%",transition:t.transitions.create(["width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},children:[(0,n.jsx)(o.A,{})," ",(0,n.jsx)(s.default,{sx:{flexGrow:1,py:4,px:{xs:2,sm:3,md:4},backgroundColor:"background.default"},children:e}),(0,n.jsx)(c.default,{})]}),(0,n.jsx)(W,{})]})})}},8781:(e,r,t)=>{t.d(r,{L:()=>n});let n={stt:{default:"Xenova/whisper-tiny.en"},tts:{default:"Xenova/mms-tts-eng"},llm:{default:"mistralai/Ministral-3-3B-Instruct-2512-ONNX"}}}}]);