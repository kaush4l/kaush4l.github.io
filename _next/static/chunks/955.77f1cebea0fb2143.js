(()=>{var e,r,t,o,a,s,n={1955:(e,r,t)=>{"use strict";let o,a,s;var n=t(9868);let{localModelPath:i}=(o=function(){try{let e=self.location?.pathname||"",r=e.indexOf("/_next/");if(r>0)return e.slice(0,r);return""}catch{return""}}(),a=`${o}/models`,s=`${o}/onnxruntime/`,n._K2.allowRemoteModels=!1,n._K2.allowLocalModels=!0,n._K2.localModelPath=a,n._K2.useBrowserCache=!0,n._K2.backends?.onnx?.wasm&&(n._K2.backends.onnx.wasm.wasmPaths=s,n._K2.backends.onnx.wasm.numThreads=1,n._K2.backends.onnx.wasm.proxy=!1),n._K2.backends?.onnx?.webgpu&&(n._K2.backends.onnx.webgpu.powerPreference="high-performance"),{basePath:o,localModelPath:a,onnxruntimeAssetPath:s}),l=null;async function d(){if(!navigator.gpu)throw Error("WebGPU is required (navigator.gpu not available).");if(!await navigator.gpu.requestAdapter())throw Error("WebGPU is required (no adapter available).")}self.addEventListener("message",async e=>{let{type:r,data:t}=e.data;if("load"===r)try{self.postMessage({type:"progress",data:{status:"loading",progress:0}}),await d();let e=t?.model||"Xenova/whisper-tiny.en";l=await (0,n.TkF)("automatic-speech-recognition",e,{device:"webgpu",dtype:"fp32",progress_callback:e=>{self.postMessage({type:"progress",data:e})}}),self.postMessage({type:"ready"})}catch(r){console.error("STT load error:",r);let e=r?.message||String(r);self.postMessage({type:"error",data:`Failed to load STT model from ${i}. Ensure model files exist under public/models. Details: ${e}`})}else if("transcribe"===r)try{if(!l)throw Error("Model not loaded. Please load the model first.");let e=t?.requestId,r=(await l(t.audio,{chunk_length_s:30,stride_length_s:5,return_timestamps:!1})).text;self.postMessage({type:"transcription",data:e?{text:r,requestId:e}:r})}catch(o){console.error("Transcription error:",o);let e=o?.message||String(o),r=t?.requestId;self.postMessage({type:"error",data:r?{message:e,requestId:r}:e})}})}},i={};function l(e){var r=i[e];if(void 0!==r)return r.exports;var t=i[e]={exports:{}},o=!0;try{n[e](t,t.exports,l),o=!1}finally{o&&delete i[e]}return t.exports}l.m=n,l.x=()=>{var e=l.O(void 0,[803,126,192],()=>l(1955));return l.O(e)},e=[],l.O=(r,t,o,a)=>{if(t){a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[t,o,a];return}for(var n=1/0,s=0;s<e.length;s++){for(var[t,o,a]=e[s],i=!0,d=0;d<t.length;d++)(!1&a||n>=a)&&Object.keys(l.O).every(e=>l.O[e](t[d]))?t.splice(d--,1):(i=!1,a<n&&(n=a));if(i){e.splice(s--,1);var p=o();void 0!==p&&(r=p)}}return r},l.d=(e,r)=>{for(var t in r)l.o(r,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce((r,t)=>(l.f[t](e,r),r),[])),l.u=e=>"static/chunks/"+(({126:"1dcdee52",803:"adda3502"})[e]||e)+"."+({126:"1b6e2f2ab8db1be8",192:"71fcb5b7194d1547",803:"386ca1b2371b0343"})[e]+".js",l.miniCssF=e=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.U=function(e){var r=new URL(e,"x:/"),t={};for(var o in r)t[o]=r[o];for(var o in t.href=e,t.pathname=e.replace(/[?#].*/,""),t.origin=t.protocol="",t.toString=t.toJSON=()=>e,t)Object.defineProperty(this,o,{enumerable:!0,configurable:!0,value:t[o]})},l.U.prototype=URL.prototype,l.tt=()=>(void 0===r&&(r={createScriptURL:e=>e},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(r=trustedTypes.createPolicy("nextjs#bundler",r))),r),l.tu=e=>l.tt().createScriptURL(e),l.p="/_next/",t={955:1},l.f.i=(e,r)=>{t[e]||importScripts(l.tu(l.p+l.u(e)))},a=(o=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(o),o.push=e=>{var[r,o,s]=e;for(var n in o)l.o(o,n)&&(l.m[n]=o[n]);for(s&&s(l);r.length;)t[r.pop()]=1;a(e)},s=l.x,l.x=()=>Promise.all([803,126,192].map(l.e,l)).then(s),_N_E=l.x()})();